{% extends "frame.html" %}
{% load static %}

{% block content %}
    {% if request.user.is_authenticated %}
        {% if request.user.fitnessouser.is_trainer %}
            <div>

                <h1>Alle Nutzer</h1>
                <button onclick="location.href='/user_anlegen'">Nutzer anlegen</button>
                <table>
                    <tr>
                        <td>ID</td>
                        <td>Nachname</td>
                        <td>Vorname</td>
                        <td>delete</td>
                    </tr>
                    {% for user in users %}
                        <tr>
                            <td style="color: green">{{ user.user.id }}</td>
                            <td style="color: green">{{ user.nachname }}</td>
                            <td style="color: green">{{ user.vorname }}</td>
                            <td><button style="color: red" onclick="delete_user({{ user.user.id }})">DELETE</button></td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        {% else %}
            <div>
                <h1>Ziele</h1>
                <br>
                <br>
                <br>
                {% for ziel in ziele %}

                    <h3>{{ ziel.ziel }} ({{ ziel.id }})</h3>
                    {% for unterziel in ziel.unterziele %}
                        {{ unterziel.id }}
                        {{ unterziel.ziel }} <br>
                    {% endfor %}
                {% endfor %}
            </div>
        {% endif %}
    {% else %}
        <div>
            <h1>Login page</h1>
            Login: <input id="login-email" type="text">
            <br>
            Password: <input id="login-password" type="password">
            <br>
            <button onclick="login()">Login</button>
            <div id="login-error" style="display:none">Email oder Passwort falsch</div>
        </div>
    {% endif %}
{% endblock %}

{% block scripts %}
    <script src="{% static "js/home.js" %}?v=1"></script>
{% endblock %}